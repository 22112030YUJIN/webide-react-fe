# 채팅 컴포넌트 구조 설명서

## 📁 파일 구조

```
client/src/components/chat/
├── index.ts                 # 모든 컴포넌트 통합 export
├── ChatProvider.tsx         # Chakra UI 테마 프로바이더
├── ChatContainer.tsx        # 메인 채팅 컨테이너
├── ChatMessageList.tsx      # 메시지 목록 표시
├── ChatMessage.tsx          # 개별 메시지 컴포넌트
├── ChatInput.tsx           # 메시지 입력 컴포넌트
└── README.md               # 이 파일
```

## 🏗️ 컴포넌트 설명

### 1. ChatProvider.tsx
**역할**: Chakra UI 테마 설정 및 전역 스타일 관리
- 기존 디자인과 일치하는 커스텀 테마 정의
- 오렌지/핑크 그라데이션 색상 팔레트
- 둥근 모서리 버튼 및 입력 필드 스타일
- 글래스모피즘 효과 적용

**주요 기능**:
- 전역 Chakra UI 테마 적용
- 브랜드 컬러 (오렌지 계열) 정의
- 컴포넌트별 기본 스타일 오버라이드

### 2. ChatContainer.tsx
**역할**: 채팅방의 전체 레이아웃 관리
- 헤더, 메시지 영역, 입력 영역을 포함한 전체 컨테이너
- 온라인 사용자 상태 표시
- 실시간 메시지 업데이트 관리

**주요 기능**:
- 채팅방 헤더 (제목, 온라인 상태)
- 메시지 목록과 입력 컴포넌트 통합
- 반응형 디자인 적용

### 3. ChatMessageList.tsx
**역할**: 메시지 목록 표시 및 관리
- 실시간 메시지 로딩 및 표시
- 자동 스크롤 기능
- 로딩 상태 및 에러 처리

**주요 기능**:
- 5초마다 자동 새로고침 (폴링)
- 새 메시지 도착 시 자동 스크롤
- 빈 상태 및 로딩 상태 UI
- 커스텀 스크롤바 스타일

### 4. ChatMessage.tsx
**역할**: 개별 메시지 버블 렌더링
- 자신/타인 메시지 구분 표시
- 사용자 아바타 및 시간 표시
- 말풍선 스타일 메시지 UI

**주요 기능**:
- 메시지 발신자별 다른 스타일 적용
- 둥근 말풍선 디자인
- 시간 표시 및 사용자 정보 표시

### 5. ChatInput.tsx
**역할**: 메시지 입력 및 전송
- 실시간 메시지 전송
- 전송 상태 관리
- 입력 검증 및 에러 처리

**주요 기능**:
- 엔터 키로 메시지 전송
- 전송 중 상태 표시
- 토스트 알림 (성공/실패)
- 전송 후 입력 필드 초기화

### 6. index.ts
**역할**: 컴포넌트 통합 export
- 모든 채팅 컴포넌트를 한 곳에서 import 가능
- 깔끔한 import 구조 제공

## 🎨 디자인 특징

### 색상 팔레트
- **주요 색상**: 오렌지 (#f56500) ~ 핑크 (#e91e63) 그라데이션
- **배경**: 따뜻한 베이지 (#ffecd2) ~ 복숭아 (#fcb69f) 그라데이션
- **카드**: 반투명 흰색 + 백드롭 블러 효과

### 스타일링 특징
- **둥근 모서리**: 모든 요소가 2xl (16px) 이상의 border-radius
- **그라데이션**: 버튼과 아이콘에 다채로운 그라데이션 적용
- **글래스모피즘**: 투명도와 블러 효과로 현대적인 느낌
- **호버 효과**: scale 변환으로 인터랙티브한 느낌

## 🔄 데이터 흐름

1. **메시지 로딩**: ChatMessageList에서 React Query로 메시지 fetch
2. **메시지 전송**: ChatInput에서 POST 요청 후 캐시 무효화
3. **실시간 업데이트**: 5초 간격 폴링으로 새 메시지 확인
4. **상태 관리**: React Query로 서버 상태 관리

## 🚀 사용 방법

```tsx
import { ChatProvider, ChatContainer } from '@/components/chat';

function ChatPage() {
  return (
    <ChatProvider>
      <ChatContainer />
    </ChatProvider>
  );
}
```

## 📱 반응형 지원

- **데스크톱**: 최대 600px 너비의 중앙 정렬 채팅창
- **모바일**: 전체 화면 너비 활용
- **태블릿**: 적절한 패딩으로 가독성 확보

## 🔧 확장 가능성

- WebSocket 연결로 실시간 채팅 업그레이드 가능
- 파일 업로드, 이모지, 멘션 기능 추가 가능
- 채팅방 분리, 개인 메시지 기능 확장 가능
- 관리자 기능 (메시지 삭제, 사용자 관리) 추가 가능